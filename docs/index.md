# Complex CI/CD Demo

This is the documentation for the **Complex CI/CD Demo** project.

## Overview

The goal of this project is to showcase how a multi‑stage CI/CD pipeline can be built using GitHub Actions without relying on any external secrets.  The project consists of a Python Flask application, a multi‑stage Dockerfile, unit tests, and a static documentation site generated by [MkDocs](https://www.mkdocs.org/).

## Application Features

* **Web UI**: The root route (`/`) renders an HTML page displaying the application version and the commit SHA.  A random number is loaded via JavaScript using the `/api/random` endpoint.
* **API Endpoints**:
  * `/api/random` – returns a random integer between 0 and 100.
  * `/api/time` – returns the current UTC time in ISO 8601 format (ending with `Z`).
  * `/api/calc/<a>/<b>` – adds `a` and `b` and returns the result.
  * `/api/info` – returns JSON metadata: `version`, `commit` and `environment`.
  * `/api/health` – returns `status: ok` to indicate the service is healthy.
* **Dynamic commit injection**: The commit SHA is injected into both the application and this documentation site at build time, so every push to `main` results in visibly updated version information.

## Current Commit

This documentation is built from commit: **{{COMMIT_SHA}}**

The GitHub Pages site always reflects the latest commit on the `main` branch.

## Running Locally

To run the application locally, install the dependencies and start the Flask server:

```bash
python -m pip install -r requirements.txt
python -m app.main
```

Then navigate to [http://localhost:5000](http://localhost:5000) in your browser.

## Workflow Summary

For details on the CI/CD process and the different workflows that power this project, see [About](about.md). These workflows ensure code quality with tests and static analysis, build Docker images, audit dependencies, and publish this documentation using GitHub Pages — all without requiring any secrets.